{
  "hash": "32e90ec7e19f2a019d4ce5c7d5436bbd",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: (연구&교수님) EBT – 첫 논문 재현 // 11월28일 다시~!\nformat: html\neditor: visual\n---\n\n# 1. Imports\n\n\n\n```{R}\ngetwd()\nlibrary(devtools)\ninstall_github(\"guebin/EBT\",force=TRUE)\ninstall_github(\"seoyeonc/gglite\",force=TRUE)\nlibrary(ebt)\nlibrary(gglite)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(patchwork)\n```\n\n\n\n# 2. **Motivating Example**\n\n## A. Signal\n\n\n\n```{R}\nfs=1000\nt=-2000:2000/fs\nv1=sin(2*pi*t)\nv2=cos(20*pi*t)\nf=v1*v2\ngglite()+line(t,f)+coord_cartesian(xlim=c(-0.22,0.22))+xlab(\"\")+ylab(\"\")\n```\n\n\n\n## B. EBT\n\n\n\n```{R}\nout1<-ebt(t,f,tau=60)\ni1<-out1$sampled_index[[1]]\ni2<-out1$sampled_index[[20]]\ni3<-out1$sampled_index[[40]]\nout2<-ebt(t,f,tau=80)\ni4<-out2$sampled_index[[1]]\ni5<-out2$sampled_index[[20]]\ni6<-out2$sampled_index[[40]]\n```\n\n\n\n## C. **fig1a - fig1f**\n\n\n\n```{R}\nfigsize(4,3,300)\nfig1a = gglite() + \npoint(t,f,col=\"gray60\",cex=0.1) + \nggtitle(\"Original Signal\")+xlab(\"\")+ylab(\"\")+\ncoord_cartesian(xlim=c(-0.22,0.22))\nfig1a\n```\n\n```{R}\nfig1b = fig1a + ggtitle(\"Single Touch of Dessin\") + \npoint(t[i1],out1$band[,1][i1],cex=2,col=2) + # band1, point\nline(t[i1],out1$band[,1][i1],col=2,alpha=0.2,lwd=1) # band1, line\nfig1b\n```\n\n```{R}\nfig1c = fig1a + ggtitle(\"Three Touches\") + \npoint(t[i1],out1$band[,1][i1],cex=2,col=2)+ # band1, point\nline(t[i1],out1$band[,1][i1],col=2,alpha=0.2,lwd=1)+ # band1, line \npoint(t[i2],out1$band[,20][i2],cex=2,col=4)+ # band20, point \nline(t[i2],out1$band[,20][i2],col=4,alpha=0.2,lwd=1)+ # band20, line\npoint(t[i3],out1$band[,40][i3],cex=2,col=3)+ # band40, point\nline(t[i3],out1$band[,40][i3],col=3,alpha=0.2,lwd=1) # band40, line\nfig1c\n```\n\n```{R}\nfig1d <- fig1c + line(t,out1$band,col=\"gray60\",lwd=0.05) + ggtitle(\"All Possible Touches\")\nfig1d\n```\n\n```{R}\nfig1e <- fig1a + point(t[i4],out2$band[,1][i4],cex=2,col=2)+ # band1, point\nline(t[i4],out2$band[,1][i4],col=2,alpha=0.2,lwd=1)+ # band1, line \npoint(t[i5],out2$band[,20][i5],cex=2,col=4)+ # band20, point \nline(t[i5],out2$band[,20][i5],col=4,alpha=0.2,lwd=1)+ # band20, line\npoint(t[i6],out2$band[,40][i6],cex=2,col=3)+ # band40, point\nline(t[i6],out2$band[,40][i6],col=3,alpha=0.2,lwd=1)+ # band40, line\nggtitle(\"Three Touches (With Larger Interval)\")\nfig1e\n```\n\n```{R}\nfig1f <- fig1e + line(t,out2$band,col=\"gray60\",lwd=0.05) + ggtitle(\"All Possible Touches (With Larger Interval)\")\nfig1f\n```\n\n\n\n## D. **fig1a - fig1f**\n\n\n\n```{R}\nfig1 <- (fig1a|fig1b)/(fig1c|fig1d)/(fig1e|fig1f)\nfig1\n```\n\n\n\n## **E. ggsave**\n\n\n\n```{R}\nfig1d <- fig1c + line(t,out1$band[,1:60],col=\"gray60\",lwd=0.05,alpha=0.2) + ggtitle(\"All Possible Touches\")\nfig1f <- fig1e + line(t,out2$band[,1:80],col=\"gray60\",lwd=0.05,alpha=0.2) + ggtitle(\"All Possible Touches (With Larger Interval)\")\nfig1 <- (fig1a|fig1b)/(fig1c|fig1d)/(fig1e|fig1f)\nggsave(\"fig1.pdf\",fig1,width = 8, height = 6, dpi = 150)\n```\n\n\n\n# **2. Definition of Elastic-Band Transform**\n\n## **A. signal**\n\n\n\n```{R}\nfs=10\nt=-30:30/fs\nf=cos(pi*t^2)\ngglite()+point(t,f)+line(t,f)+xlim(0,2)+xlab(\"\")+ylab(\"\")\n```\n\n\n\n## **B. EBT: linear – fig2a,c,e**\n\n\n\n```{R}\nout<-ebt(t,f,tau=3)\ni1<-out$sampled_index[[1]]\ni2<-out$sampled_index[[2]]\ni3<-out$sampled_index[[3]]\n```\n\n```{R}\nfig2_base = gglite()+point(t,out$f)+xlim(0,2)+xlab(\"\")+ylab(\"\")\nfig2a = fig2_base + point(t[i1],out$band[,1][i1],col=2,cex=5,pch=1)+line(t,out$band[,1],col=2,lwd=1)+ggtitle(\"(a)\")\nfig2a\n```\n\n```{R}\nfig2c = fig2_base + point(t[i2],out$band[,2][i2],col=3,cex=5,pch=1) + line(t,out$band[,2],col=3,lwd=1)+ggtitle(\"(c)\")\nfig2c\n```\n\n```{R}\nfig2e = fig2_base + point(t[i3],out$band[,3][i3],col=4,cex=5,pch=1) + line(t,out$band[,3],col=4,lwd=1)+ggtitle(\"(e)\")\nfig2e\n```\n\n\n\n## **C. EBT: cubic – fig2b,d,f**\n\n\n\n```{R}\nout<-ebt(t,f,tau=3,inter_method='cubic')\ni1<-out$sampled_index[[1]]\ni2<-out$sampled_index[[2]]\ni3<-out$sampled_index[[3]]\n```\n\n```{R}\nfig2_base = gglite()+point(t,out$f)+xlim(0,2)+xlab(\"\")+ylab(\"\")\nfig2b = fig2_base + point(t[i1],out$band[,1][i1],col=2,cex=5,pch=1)+line(t,out$band[,1],col=2,lwd=1)+ggtitle(\"(b)\")\nfig2b\n```\n\n```{R}\nfig2d = fig2_base + point(t[i2],out$band[,2][i2],col=3,cex=5,pch=1) + line(t,out$band[,2],col=3,lwd=1)+ggtitle(\"(d)\")\nfig2d\n```\n\n```{R}\nfig2f = fig2_base + point(t[i3],out$band[,3][i3],col=4,cex=5,pch=1) + line(t,out$band[,3],col=4,lwd=1)+ggtitle(\"(f)\")\nfig2f\n```\n\n\n\n## **D. fig2**\n\n\n\n```{R}\nfig2 <- (fig2a|fig2b)/(fig2c|fig2d)/(fig2e|fig2f)\nfig2\n```\n\n\n\n## **E. ggsave**\n\n\n\n```{R}\nggsave(\"fig2.pdf\",fig2, height = 6.67/1.5)\n```\n\n\n\n# **3. Statistics of Elastic-Bands**\n\n## **A. signal**\n\n\n\n```{R}\n# FIG 1\nfs=100\nt=-200:200/fs\nv1=cos(2*pi*t)\nv2=cos(3*pi*t)\nf=v1+v2\n```\n\n```{R}\nfig3_base <- gglite()+point(t,f,size=0.5,col=\"gray20\")+xlim(c(-1,1))+xlab(\"\")+ylab(\"\")\nfig3_base\n```\n\n\n\n## **B. EBT**\n\n\n\n```{R}\nout1<-ebt(t,f,tau=30)\nout2<-ebt(t,f,tau=45)\nout3<-ebt(t,f,tau=60)\n```\n\n\n\n## **C. fig3**\n\n\n\n```{R}\nfig3a <- gglite()+point(t,f,size=0.5)+xlim(c(-1,1))+xlab(\"\")+ylab(\"\")+ggtitle(\"(a)\")\nfig3b <- fig3a+line(t,out1$band,col=2,lwd=0.01)+ggtitle(\"(b)\")\nfig3c <- fig3a+line(t,out2$band,col=3,lwd=0.01)+ggtitle(\"(c)\")\nfig3d <- fig3a+line(t,out3$band,col=4,lwd=0.01)+ggtitle(\"(d)\")\nfig3e <- gglite()+xlim(c(-1,1))+point(t,f,alpha=0)+xlab(\"\")+ylab(\"\")+line(t,out1$M,lwd=1,col=2)+line(t,out2$M,lwd=1,col=3)+line(t,out3$M,lwd=1,col=4)+ggtitle(\"(e)\")\nfig3f <- gglite()+xlim(c(-1,1))+line(t,out1$V,col=2)+line(t,out2$V,col=3)+line(t,out3$V,col=4)+ggtitle(\"(f)\")+xlab(\"\")+ylab(\"\")\nfig3 <- (fig3a|fig3b)/(fig3c|fig3d)/(fig3e|fig3f)\nfig3\n```\n\n\n\n## **D. ggsave**\n\n\n\n```{R}\nfig3a <- gglite()+point(t,f,size=0.5)+xlim(c(-1,1))+xlab(\"\")+ylab(\"\")+ggtitle(\"(a)\")\nfig3b <- fig3a+line(t,out1$band,col=2,lwd=0.01,alpha=0.1)+ggtitle(\"(b)\")\nfig3c <- fig3a+line(t,out2$band,col=3,lwd=0.01,alpha=0.1)+ggtitle(\"(c)\")\nfig3d <- fig3a+line(t,out3$band,col=4,lwd=0.01,alpha=0.1)+ggtitle(\"(d)\")\nfig3e <- gglite()+xlim(c(-1,1))+point(t,f,alpha=0)+xlab(\"\")+ylab(\"\")+line(t,out1$M,lwd=1,col=2)+line(t,out2$M,lwd=1,col=3)+line(t,out3$M,lwd=1,col=4)+ggtitle(\"(e)\")\nfig3f <- gglite()+xlim(c(-1,1))+line(t,out1$V,col=2)+line(t,out2$V,col=3)+line(t,out3$V,col=4)+ggtitle(\"(f)\")+xlab(\"\")+ylab(\"\")\nfig3 <- (fig3a|fig3b)/(fig3c|fig3d)/(fig3e|fig3f)\nggsave(\"fig3.pdf\",fig3,height = 6.67/1.2)\n```\n\n\n\n# **4. Visualization**\n\n## **A. signal**\n\n\n\n```{R}\nset.seed(100)\nv1<-rnorm(150,mean=0,sd=0.5) # ~150\nv2<-rnorm(150,mean=0,sd=0.5) # ~300\nv3<-rnorm(150,mean=1.5,sd=3) # ~450\nv4<-rnorm(150,mean=1.5,sd=3) # ~600\nv5<-rnorm(150,mean=1.5,sd=2) # ~750\nv6<-rnorm(150,mean=1.5,sd=1) # ~900\nv7<-rnorm(150,mean=3.0,sd=1) # ~1050\nv8<-rnorm(150,mean=4.5,sd=1) # ~1200\nv9<-rnorm(150,mean=6.0,sd=1) # ~1350\nv10<-rnorm(150,mean=7.5,sd=1) # ~1500\nf<-c(v1,v2,v3,v4,v5,v6,v7,v8,v9,v10) \n```\n\n```{R}\ngglite()+line(f,col='gray60')+xlab(\"\")+ylab(\"\")\n```\n\n",
    "supporting": [
      "2024-11-27-논문재현_files"
    ],
    "filters": [],
    "includes": {}
  }
}